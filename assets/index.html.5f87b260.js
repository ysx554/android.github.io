import{_ as n,o as a,c as s,e as t}from"./app.2d594a2a.js";const e={},c=t(`<h1 id="scan-ble-device" tabindex="-1"><a class="header-anchor" href="#scan-ble-device" aria-hidden="true">#</a> Scan BLE device</h1><h2 id="sets-scan-listener" tabindex="-1"><a class="header-anchor" href="#sets-scan-listener" aria-hidden="true">#</a> Sets scan listener</h2><p>When the scan is enabled, the scan event listener stream bleScanEveStm will be triggered, and the scan result will be returned through the bleScanEveStm listener stream and stored in the \u201Cevent\u201D as a BleScanEvent object.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>_blePlugin<span class="token punctuation">.</span>bleScanEveStm<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token class-name">BleScanBean</span> event<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token comment">/// Do something with new state </span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Callback Description:</p><p>BleScanBean\uFF1A</p><table><thead><tr><th>callback value</th><th>callback value type</th><th>callback value description</th></tr></thead><tbody><tr><td>isCompleted</td><td>bool</td><td>is completed</td></tr><tr><td>address</td><td>String</td><td>Device address</td></tr><tr><td>mRssi</td><td>int</td><td>equipment rssi</td></tr><tr><td>mScanRecord</td><td>List&lt; int &gt;</td><td>Bluetooth scan device record</td></tr><tr><td>name</td><td>String</td><td>Equipment name</td></tr></tbody></table><h2 id="start-scan" tabindex="-1"><a class="header-anchor" href="#start-scan" aria-hidden="true">#</a> Start scan</h2><p>When scanning Bluetooth devices, it will first obtain the open status of Bluetooth, and only when the permission is allowed and the Bluetooth is turned on can start normal scanning.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>_blePlugin<span class="token punctuation">.</span><span class="token function">startScan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
     <span class="token comment">/// Do something with new state </span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> stackTrace<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Parameter Description :</p><ul><li>The scan duration can be set in milliseconds.</li><li>Since Bluetooth scanning is a time-consuming operation, it is recommended to set the scanning time to 10 seconds.</li></ul><h2 id="cancel-scan" tabindex="-1"><a class="header-anchor" href="#cancel-scan" aria-hidden="true">#</a> Cancel scan</h2><p>Turn off the bluetooth scan, and the result listens to the callback through the bleScanEveStm data stream.</p><div class="language-dart ext-dart line-numbers-mode"><pre class="language-dart"><code>_blePlugin<span class="token punctuation">.</span>cancelScan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,15),i=[c];function o(l,p){return a(),s("div",null,i)}var r=n(e,[["render",o],["__file","index.html.vue"]]);export{r as default};
